<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="css/index.css">
<title>test</title>
<style type="text/css">
   body{
   	background-color:#eee;
   }
    #wrap{
    	width: 95%;
    	margin:0 auto;
    	position:relative;
    }
	.section{
		width:230px;
		padding:5px;
		background-color:white;
	}
	.section img{
		width: 100%;
	}
</style>
</head>
<body>
   <div id="wrap">
      <div class="section mode1">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>江南好，风景旧曾谙。日出江花红胜火，春来江水绿如蓝。能不忆江南？</p>
      </div>
      <div class="section mode2">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>汴水流，泗水流，流到瓜州古渡头。吴山点点愁。
             思悠悠，恨悠悠，恨到归时方始休。月明人倚楼。</p>
      </div>
      <div class="section mode3">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>碧云天，黄叶地，秋色连波，波上寒烟翠。山映斜阳天接水，芳草无情，更在斜阳外。  黯乡魂，追旅思，夜夜除非，好梦留人睡。明月楼高休独倚，酒入愁肠，化作相思泪。</p>
      </div>
      <div class="section mode4">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>水调数声持酒听，午醉醒来愁未醒。送春春去几时回？临晚镜，伤流景，往事后期空记省。  沙上并禽池上暝，云破月来花弄影。重重帘幕密遮灯，风不定，人初静，明日落红应满径。</p>
      </div>
      <div class="section mode5">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>一曲新词酒一杯，去年天气旧亭台。夕阳西下几时回？ 无可奈何花落去，似曾相识燕归来。小园香径独徘徊。</p>
      </div>
      <div class="section mode6">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。  多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？</p>
      </div>
      <div class="section mode7">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>十年生死两茫茫，不思量，自难忘。千里孤坟，无处话凄凉。纵使相逢应不识，尘满面，鬓如霜。  夜来幽梦忽还乡，小轩窗，正梳妆。相顾无言，惟有泪千行。料得年年肠断处，明月夜，短松冈。</p>
      </div>
       <div class="section mode8">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？  转朱阁，低绮[qǐ]户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。但愿人长久，千里共婵娟。</p>
      </div>
       <div class="section mode9">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？</p>
      </div>
      <div class="section mode10">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？  </p>
      </div>
      <div class="section mode11">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>江南好，风景旧曾谙。日出江花红胜火，春来江水绿如蓝。能不忆江南？</p>
      </div>
      <div class="section mode12">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>汴水流，泗水流，流到瓜州古渡头。吴山点点愁。
             思悠悠，恨悠悠，恨到归时方始休。月明人倚楼。</p>
      </div>
      <div class="section mode13">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>碧云天，黄叶地，秋色连波，波上寒烟翠。山映斜阳天接水，芳草无情，更在斜阳外。  黯乡魂，追旅思，夜夜除非，好梦留人睡。明月楼高休独倚，酒入愁肠，化作相思泪。</p>
      </div>
      <div class="section mode14">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>水调数声持酒听，午醉醒来愁未醒。送春春去几时回？临晚镜，伤流景，往事后期空记省。  沙上并禽池上暝，云破月来花弄影。重重帘幕密遮灯，风不定，人初静，明日落红应满径。</p>
      </div>
      <div class="section mode15">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>一曲新词酒一杯，去年天气旧亭台。夕阳西下几时回？ 无可奈何花落去，似曾相识燕归来。小园香径独徘徊。</p>
      </div>
      <div class="section mode16">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。  多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？</p>
      </div>
      <div class="section mode17">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>十年生死两茫茫，不思量，自难忘。千里孤坟，无处话凄凉。纵使相逢应不识，尘满面，鬓如霜。  夜来幽梦忽还乡，小轩窗，正梳妆。相顾无言，惟有泪千行。料得年年肠断处，明月夜，短松冈。</p>
      </div>
       <div class="section mode18">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？  转朱阁，低绮[qǐ]户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。但愿人长久，千里共婵娟。</p>
      </div>
       <div class="section mode19">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？</p>
      </div>
      <div class="section mode20">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？  </p>
      </div>
      <div class="section mode21">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>江南好，风景旧曾谙。日出江花红胜火，春来江水绿如蓝。能不忆江南？</p>
      </div>
      <div class="section mode22">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>汴水流，泗水流，流到瓜州古渡头。吴山点点愁。
             思悠悠，恨悠悠，恨到归时方始休。月明人倚楼。</p>
      </div>
      <div class="section mode23">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>碧云天，黄叶地，秋色连波，波上寒烟翠。山映斜阳天接水，芳草无情，更在斜阳外。  黯乡魂，追旅思，夜夜除非，好梦留人睡。明月楼高休独倚，酒入愁肠，化作相思泪。</p>
      </div>
      <div class="section mode24">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>水调数声持酒听，午醉醒来愁未醒。送春春去几时回？临晚镜，伤流景，往事后期空记省。  沙上并禽池上暝，云破月来花弄影。重重帘幕密遮灯，风不定，人初静，明日落红应满径。</p>
      </div>
      <div class="section mode25">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>一曲新词酒一杯，去年天气旧亭台。夕阳西下几时回？ 无可奈何花落去，似曾相识燕归来。小园香径独徘徊。</p>
      </div>
      <div class="section mode26">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。  多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？</p>
      </div>
      <div class="section mode27">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>十年生死两茫茫，不思量，自难忘。千里孤坟，无处话凄凉。纵使相逢应不识，尘满面，鬓如霜。  夜来幽梦忽还乡，小轩窗，正梳妆。相顾无言，惟有泪千行。料得年年肠断处，明月夜，短松冈。</p>
      </div>
       <div class="section mode28">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？  转朱阁，低绮[qǐ]户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。但愿人长久，千里共婵娟。</p>
      </div>
       <div class="section mode29">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？</p>
      </div>
      <div class="section mode30">
      	<h3>瀑布流实例-宋词</h3>
      	<img src="images/pic.jpg"  alt="美景"/>
      	<p>明月几时有？把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间？  </p>
      </div>
   </div>
<script type="text/javascript">
window.onload=function(){
	  waterfall("wrap");       //页面加载后瀑布流显示
    }
window.onresize = function() {
      waterfall("wrap");       //页面调整大小后瀑布流显示
    }
function waterfall (element) {

	var wrap=document.getElementById(element);
	var wrapWidth=wrap.offsetWidth;    //获取外边框宽度(包含border和padding)
	var modes=wrap.getElementsByTagName('div');
	var modesNum=modes.length;
	var modeWidth=modes[0].offsetWidth;   //获取模块宽度    
	var colNum = Math.floor(wrapWidth/modeWidth);    //计算一共多少列
	var marginVal = Math.floor((wrapWidth - colNum*modeWidth)/(colNum+1)); //模块间隔
	var column=new Array();        //初始化列高
	for(var i=0;i<colNum;i++){ 
        column[i]=new Array(); 
        column[i].top=marginVal;
        column[i].left=(modeWidth * i)+marginVal*(i+1) ;    //计算各列距离左侧距离
	}
	for(var i=0;i<modesNum;i++){          //瀑布流布局
	   var minHgtCol=1;                //最小高度列
       for(var j=0;j<colNum;j++){ 
         if(column[j].top<column[minHgtCol-1].top){
            minHgtCol=j+1;             //选出最小高度列
           }
       }
       modes[i].style.position = "absolute" ;          //将mode[i]布局到第minHgtCol列
       modes[i].style.top = column[minHgtCol-1].top + "px" ;
       modes[i].style.left = column[minHgtCol-1].left + "px" ;
       column[minHgtCol-1].top += modes[i].offsetHeight +marginVal ;    //更新列高度
     }
     var maxHeight=0;
     for(var i=0;i<colNum;i++) {    //获取瀑布流整体布局高度
            if(column[i].top > maxHeight) {maxHeight = column[i].top ;}
      }
       wrap.style.height = maxHeight+"px" ;    //给外部容器赋高
}
	         
</script>
</body>
</html> 